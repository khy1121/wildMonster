# .antigravityrules

## 기본 규칙
1. 모든 대답은 '한국어'로 해주세요.
2. 코드를 수정할 때는 기존 스타일(Prettier 설정)을 반드시 따르세요.
3. 새로운 라이브러리를 설치할 때는 반드시 허락을 구하세요.
4. 주석은 친절하고 구체적으로 달아주세요.

## 프로젝트 컨텍스트(항상 고려)
5. 이 프로젝트는 TypeScript + Phaser + React 기반의 몬스터 RPG입니다.
   - 오버월드(탐험) → 야생 조우 → 포켓몬 스타일 턴제 전투(BattleScene) 구조입니다.
   - 디지몬 스타일의 진화 시스템(1~4단계, 분기 진화 2택)을 핵심 재미로 합니다.
   - 테이머 레벨 최대 50, 와일더 레벨 최대 80을 배포 스펙으로 합니다.

6. 전투/성장 설계 원칙
   - 전투는 포켓몬처럼 “턴제”를 유지하되, 스킬 이펙트/타격 피드백을 강화합니다.
   - 진화 시 2개 중 하나를 선택해 종족/특성/스킬트리/스탯 성장 방향이 달라지게 설계합니다.
   - 스탯은 공격/방어/특수공격/특수방어/속도(또는 프로젝트의 실제 스탯 체계)를 일관되게 사용합니다.
   - 레벨이 오를수록 레벨업 난이도는 높아지되, 퀘스트를 활용하면 성장 속도가 빨라지도록 밸런싱합니다.

7. 퀘스트 설계 원칙
   - 퀘스트는 “일일/주간/공통(스토리)”로 분류합니다.
   - 퀘스트는 스토리 흐름이 이어지도록(디지몬 퀘스트처럼) 대화/연출과 함께 진행합니다.
   - 퀘스트 완료 시 팝업 + ‘보상 수령’ 버튼을 통해 실제 보상이 지급되도록 구현합니다.
   - 보상은 EXP/골드/진화석/아이템 등으로 구성하고, 인벤토리 및 세이브 데이터에 반영합니다.

8. AI(와일더) 행동 설계 원칙
   - 기본 야생 와일더는 “적은 젠(스폰) 밀도”로 유지합니다.
   - 플레이어(테이머/와일더)가 공격했을 때만 적대(반격)하는 기본 몬스터를 둡니다.
   - ‘난폭함’ 특성이 있는 와일더는 플레이어가 일정 거리 안으로 들어오면 선공하고,
     일정 거리 밖으로 벗어나면 스폰 지점으로 복귀하는 상태 머신(IDLE→AGGRO→RETURN)을 사용합니다.

9. UI/UX 및 플랫폼 원칙
   - 모바일 우선(크로스 플랫폼)이며, 화면 크기 변화에 안전해야 합니다.
   - 언어는 KO 기본이며, 브라우저 언어 자동 감지 + 메뉴 수동 전환을 모두 지원합니다.
   - UI는 현대적이고 깔끔한 스타일을 유지하되, 필요 시 일부 3D 요소로 입체감을 추가합니다.

10. 3D/이펙트 적용 원칙
   - 3D 요소는 Phaser3D 또는 Three.js를 사용하되, 성능(모바일)을 최우선으로 합니다.
   - 스킬 이펙트는 “포켓몬보다 화려하지만 액션 RPG보단 단조로운” 수준으로 유지합니다.
   - 이펙트/파티클/3D 오브젝트는 누수(emitters, textures, scenes) 없이 생성/파괴를 관리합니다.

## 작업 방식(출력 형식)
11. 작업을 시작하기 전에:
   - 관련 파일/타입/데이터 구조를 먼저 찾고(검색/참조), “어떤 파일을 어떻게 바꿀지” 짧게 요약하세요.
12. 코드는 “작은 단위”로 안전하게 변경하세요:
   - 한 번에 너무 많은 수정 금지. 기능 단위로 커밋 가능한 수준의 변경을 제안하세요.
13. 변경 후 검증 방법을 반드시 포함하세요:
   - 재현 방법, 수동 테스트 체크리스트, (가능하면) 단위 테스트 예시를 같이 제공하세요.
14. 새 파일/새 구조를 추가할 때는:
   - 네이밍 규칙/폴더 구조/상태 흐름(GameStateManager 등 기존 패턴)을 반드시 따르세요.
